<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>GlobalGlide360 - Itinerari AI</title>
  <style>
    *{margin:0;padding:0;box-sizing:border-box;}
    body{font-family:Arial,sans-serif;color:#222;background:#fff;line-height:1.4;}
    header{
      position:fixed;top:0;left:0;width:100%;
      background:rgba(255,255,255,0.95);backdrop-filter:blur(6px);
      display:flex;justify-content:space-between;align-items:center;
      padding:10px 20px;box-shadow:0 2px 6px rgba(0,0,0,0.1);z-index:1000;
    }
    header img{height:60px;}
    header h1{color:#0077b6;font-size:22px;margin-left:8px;}

    .hero{position:relative;height:70vh;overflow:hidden;display:flex;align-items:center;justify-content:center;}
    .hero img{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;}
    .hero::after{content:'';position:absolute;inset:0;background:rgba(0,0,0,0.5);}
    .hero-content{position:relative;z-index:1;text-align:center;color:white;padding:20px;max-width:800px;}

    .search-section{background:#f8f8f8;padding:30px 20px;text-align:center;margin-top:20px;}
    .search-section form{display:grid;gap:10px;max-width:750px;margin:0 auto;}
    .search-section input, .search-section select{padding:12px;border:1px solid #ccc;border-radius:6px;font-size:16px;width:100%;}
    .search-section button{background:#0077b6;color:white;padding:12px;border:none;border-radius:6px;font-size:16px;cursor:pointer;}
    .preferences{display:flex;flex-wrap:wrap;justify-content:center;gap:10px;}
    .preferences label{font-size:14px;}

    #results{max-width:900px;margin:20px auto;padding:10px;}
    .card{background:white;padding:20px;border-radius:10px;box-shadow:0 4px 8px rgba(0,0,0,0.1);margin-bottom:20px;}
    .card h3{margin-bottom:10px;color:#0077b6;}
    .card p, .card a{font-size:16px;line-height:1.4;}
    .options{display:grid;gap:10px;}
    .option{display:flex;justify-content:space-between;align-items:center;border:1px solid #ddd;border-radius:8px;padding:10px;}
    .option strong{color:#0077b6;}
    .option a{font-size:14px;color:#00b4d8;}

    .timeline{position:relative;margin:20px 0;padding-left:30px;border-left:2px solid #0077b6;}
    .timeline-item{margin-bottom:20px;position:relative;}
    .timeline-item::before{content:'';position:absolute;left:-9px;top:5px;width:15px;height:15px;background:#0077b6;border-radius:50%;}
    .timeline-item h4{color:#0077b6;margin-bottom:5px;}
    footer{background:#222;color:#ccc;text-align:center;font-size:14px;padding:20px;}
    a{color:#0077b6;text-decoration:none;}
    a:hover{text-decoration:underline;}
  </style>
</head>
<body>
  <header>
    <div style="display:flex;align-items:center;">
      <img src="logo-globalglide360.png" alt="GlobalGlide360">
      <h1>GlobalGlide360</h1>
    </div>
  </header>

  <section class="hero">
    <img src="hero-travel.png" alt="Hero Travel">
    <div class="hero-content">
      <h2>Il tuo viaggio perfetto, creato da un'AI</h2>
      <p>Voli, hotel, attivit√† e ristoranti organizzati in un itinerario completo.</p>
    </div>
  </section>

  <section class="search-section">
    <h3>Crea il tuo itinerario personalizzato</h3>
    <form id="travel-form">
      <input type="text" name="origin" placeholder="Citt√† di partenza (es. Milano)" required>
      <input type="text" name="destinazione" placeholder="Destinazione (es. Parigi)" required>
      <input type="date" name="dataPartenza" required>
      <input type="date" name="dataRitorno" required>
      <input type="number" name="adulti" placeholder="Numero adulti" min="1" value="1" required>
      <input type="number" name="bambini" placeholder="Numero bambini (<12 anni)" min="0" value="0" required>

      <div class="preferences">
        <label><input type="checkbox" name="preferenze" value="cultura"> Cultura</label>
        <label><input type="checkbox" name="preferenze" value="avventura"> Avventura</label>
        <label><input type="checkbox" name="preferenze" value="relax"> Relax</label>
        <label><input type="checkbox" name="preferenze" value="cibo"> Cibo</label>
        <label><input type="checkbox" name="preferenze" value="famiglia"> Famiglia</label>
      </div>

      <button type="submit">Cerca itinerario</button>
    </form>
  </section>

  <div id="results"></div>

  <footer>
    <p>¬© 2025 GlobalGlide360 ‚Äì Tutti i diritti riservati</p>
  </footer>

<script>
const form = document.getElementById("travel-form");
const results = document.getElementById("results");

form.addEventListener("submit", async e => {
  e.preventDefault();
  results.innerHTML = "‚è≥ Ricerca in corso...";

  const destinazione = form.elements["destinazione"].value;
  const dataPartenza = form.elements["dataPartenza"].value;
  const dataRitorno = form.elements["dataRitorno"].value;
  const adulti = form.elements["adulti"].value;
  const bambini = form.elements["bambini"].value;

  const giorni = Math.max(1, Math.round((new Date(dataRitorno) - new Date(dataPartenza)) / (1000*60*60*24)) + 1);

  // Recupero preferenze
  const preferenze = Array.from(form.querySelectorAll("input[name='preferenze']:checked")).map(cb => cb.value);

  // DATI SIMULATI
  const voli = [
    {compagnia: "Ryanair", prezzo: 150, durata: "1h50m"},
    {compagnia: "Air France", prezzo: 200, durata: "2h00m"},
    {compagnia: "EasyJet", prezzo: 180, durata: "1h55m"}
  ];
  const hotel = [
    {nome: "Hotel Centrale", prezzo: 90, rating: "8.5"},
    {nome: "Resort Relax", prezzo: 120, rating: "9.1"},
    {nome: "B&B Famiglia", prezzo: 70, rating: "8.0"}
  ];
  const attivita = [
    {titolo: "Tour guidato nel centro storico", prezzo: 25, tipo: "cultura"},
    {titolo: "Parco avventura", prezzo: 40, tipo: "avventura"},
    {titolo: "Spa & Wellness", prezzo: 60, tipo: "relax"},
    {titolo: "Degustazione gastronomica", prezzo: 35, tipo: "cibo"}
  ];
  const ristoranti = [
    {nome: "Trattoria Da Mario", rating: 4.5},
    {nome: "Ristorante Gourmet", rating: 4.7}
  ];

  // Costruzione HTML
  results.innerHTML = "";

  // Voli
  const voloMigliore = voli.reduce((prev, curr) => (curr.prezzo < prev.prezzo ? curr : prev));
  results.innerHTML += `<div class="card"><h3>‚úàÔ∏è Voli - opzioni</h3>
    <div class="options">${voli.map(v=>`
      <div class="option">
        <span>${v.compagnia}</span>
        <span>Durata: ${v.durata}</span>
        <strong>‚Ç¨${v.prezzo}</strong>
      </div>`).join("")}
    </div>
    <p><strong>Miglior prezzo:</strong> ${voloMigliore.compagnia} - ‚Ç¨${voloMigliore.prezzo}</p>
  </div>`;

  // Hotel
  const hotelMigliore = hotel.reduce((prev, curr) => (curr.rating > prev.rating ? curr : prev));
  results.innerHTML += `<div class="card"><h3>üè® Hotel consigliati</h3>
    <div class="options">${hotel.map(h=>`
      <div class="option">
        <span>${h.nome}</span>
        <span>Valutazione: ${h.rating}</span>
        <strong>‚Ç¨${h.prezzo}/notte</strong>
      </div>`).join("")}
    </div>
    <p><strong>Miglior rapporto qualit√†/prezzo:</strong> ${hotelMigliore.nome} (Valutazione ${hotelMigliore.rating})</p>
  </div>`;

  // Timeline attivit√†
  results.innerHTML += `<h3 style="text-align:center;">üóìÔ∏è Itinerario suggerito</h3><div class="timeline" id="timeline"></div>`;
  const timeline = document.getElementById("timeline");

  for(let g = 1; g <= giorni; g++) {
    // Filtra attivit√† per preferenze
    const attivit√†Filtrate = attivita.filter(a => preferenze.length === 0 || preferenze.includes(a.tipo));
    const attivit√†G = attivit√†Filtrate[g % attivit√†Filtrate.length];

    timeline.innerHTML += `
      <div class="timeline-item">
        <h4>Giorno ${g}</h4>
        <p>Mattina: ${attivit√†G ? attivit√†G.titolo + " (‚Ç¨" + attivit√†G.prezzo + ")" : "Attivit√† libera"}</p>
        <p>Pranzo: ${ristoranti[0].nome} (‚òÖ${ristoranti[0].rating})</p>
        <p>Pomeriggio: ${attivit√†G ? attivit√†G.titolo + " (‚Ç¨" + attivit√†G.prezzo + ")" : "Attivit√† libera"}</p>
        <p>Cena: ${ristoranti[1].nome} (‚òÖ${ristoranti[1].rating})</p>
      </div>`;
  }

});
</script>
</body>
</html>
